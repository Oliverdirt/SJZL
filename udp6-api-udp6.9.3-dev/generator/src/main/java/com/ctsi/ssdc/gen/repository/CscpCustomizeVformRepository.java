package com.ctsi.ssdc.gen.repository;

import com.ctsi.ssdc.gen.domain.CscpCustomizeVform;
import com.ctsi.ssdc.gen.domain.CscpCustomizeVformExample;
import org.apache.ibatis.annotations.*;
import org.apache.ibatis.type.JdbcType;

import java.util.Collection;
import java.util.List;

/**
 * CscpCustomizeVformRepository
 *
 * @author hx
 * @date 2022-07-05 17:08:36
 */

@Mapper
public interface CscpCustomizeVformRepository extends com.ctsi.ssdc.repository.BaseRepository<CscpCustomizeVform, Long, CscpCustomizeVformExample> {
    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @SelectProvider(type=CscpCustomizeVformSqlProvider.class, method="countByExample")
    @Override
    long countByExample(CscpCustomizeVformExample example);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @DeleteProvider(type=CscpCustomizeVformSqlProvider.class, method="deleteByExample")
    @Override
    int deleteByExample(CscpCustomizeVformExample example);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @Delete({
            "delete from cscp_customize_vform",
            "where form_id = #{formId,jdbcType=BIGINT}"
    })
    @Override
    int deleteByPrimaryKey(Long formId);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     *
     * @date 2022-07-05 17:08:36
     */
    @Insert({
            "insert into cscp_customize_vform (",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            ") values (",
            "#{formId,jdbcType=BIGINT}, ",
            "#{formName,jdbcType=VARCHAR}, ",
            "#{formDatabase,jdbcType=VARCHAR}, ",
            "#{formTable,jdbcType=VARCHAR}, ",
            "#{formJson,jdbcType=VARCHAR}, ",
            "#{formOption,jdbcType=VARCHAR}, ",
            "#{createdBy,jdbcType=VARCHAR}, ",
            "#{createdTime,jdbcType=DATE}, ",
            "#{updateBy,jdbcType=VARCHAR}, ",
            "#{updateTime,jdbcType=DATE}, ",
            "#{tenantId,jdbcType=BIGINT}, ",
            "#{delFlag,jdbcType=VARCHAR}, ",
            "#{status,jdbcType=VARCHAR}, ",
            "#{formType,jdbcType=VARCHAR}, ",
            "#{mainFormId,jdbcType=BIGINT}, ",
            "#{sortNum,jdbcType=INTEGER}, ",
            "#{subFormFk,jdbcType=VARCHAR}, ",
            "#{formUrl,jdbcType=VARCHAR}, ",
            "#{tableDesc,jdbcType=VARCHAR}",

            ")"

    })
    @Override
    int insert(CscpCustomizeVform record);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @InsertProvider(type=CscpCustomizeVformSqlProvider.class, method="insertSelective")
    @Override
    int insertSelective(CscpCustomizeVform record);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @SelectProvider(type=CscpCustomizeVformSqlProvider.class, method="selectByExample")
    @Results({
            @Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)
    })

    @Override
    List<CscpCustomizeVform> selectByExample(CscpCustomizeVformExample example);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @Select({
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            "from cscp_customize_vform",
            "where form_id = #{formId,jdbcType=BIGINT}"
    })
    @Results(id="form",value={
            @Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_url", property="formUrl", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)
    })
    @Override
    CscpCustomizeVform selectByPrimaryKey(Long formId);




    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @UpdateProvider(type=CscpCustomizeVformSqlProvider.class, method="updateByExampleSelective")
    @Override
    int updateByExampleSelective(@Param("record") CscpCustomizeVform record, @Param("example") CscpCustomizeVformExample example);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @UpdateProvider(type=CscpCustomizeVformSqlProvider.class, method="updateByExample")
    @Override
    int updateByExample(@Param("record") CscpCustomizeVform record, @Param("example") CscpCustomizeVformExample example);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     *@date 2022-07-05 17:08:36
     */
    @UpdateProvider(type=CscpCustomizeVformSqlProvider.class, method="updateByPrimaryKeySelective")
    @Override
    int updateByPrimaryKeySelective(CscpCustomizeVform record);

    /**
     * This method was generated by  Generator.
     * This method corresponds to the database table cscp_customize_vform
     *
     * @date 2022-07-05 17:08:36
     */
    @Update({
            "update cscp_customize_vform",
            "set ",
            "form_id = #{formId,jdbcType=BIGINT},",
            "form_name = #{formName,jdbcType=VARCHAR},",
            "form_database = #{formDatabase,jdbcType=VARCHAR},",
            "form_table = #{formTable,jdbcType=VARCHAR},",
            "form_json = #{formJson,jdbcType=VARCHAR},",
            "form_option = #{formOption,jdbcType=VARCHAR},",
            "created_by = #{createdBy,jdbcType=VARCHAR},",
            "created_time = #{createdTime,jdbcType=DATE},",
            "update_by = #{updateBy,jdbcType=VARCHAR},",
            "update_time = #{updateTime,jdbcType=DATE},",
            "tenant_id = #{tenantId,jdbcType=BIGINT},",
            "del_flag = #{delFlag,jdbcType=VARCHAR},",
            "status = #{status,jdbcType=VARCHAR},",
            "form_type = #{formType,jdbcType=VARCHAR},",
            "main_form_id = #{mainFormId,jdbcType=BIGINT},",
            "sort_num = #{sortNum,jdbcType=INTEGER},",
            "sub_form_fk = #{subFormFk,jdbcType=VARCHAR},",
            "form_url = #{formUrl,jdbcType=VARCHAR},",
            "table_desc = #{tableDesc,jdbcType=VARCHAR}",

            "where form_id = #{formId,jdbcType=BIGINT}"
    })
    @Override
    int updateByPrimaryKey(CscpCustomizeVform record);

    /**
     * 批量删除
     * @param formIds
     */
    @Delete("<script>" +
            "delete from cscp_customize_vform where form_id in" +
            "<foreach collection=\"formIds\" item=\"formId\" open=\"(\" separator=\",\" close=\")\">" +
            "#{formId}" +
            "</foreach>" +
            "</script>")
    void deleteByIds(@Param("formIds") List<Long> formIds);

    @Select({
            "<script>",
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            "from cscp_customize_vform",
            "<where>",
            "<if test=\"formName != '' and formName != null \"> and form_name like concat('%',#{formName},'%')</if>",
            "<if test=\"formTable != '' and formTable != null \"> and form_table like concat('%',#{formTable},'%')</if>",
            "<if test=\"formType != '' and formType != null \">and form_type = #{formType}</if>",
            "</where>",
            "order by ${sort} desc ",
            "</script>"
    })
    @ResultMap(value = "form")
    List<CscpCustomizeVform> getCscpCustomizeVformsList(CscpCustomizeVform form);


    @Select({
            "<script>",
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            "from cscp_customize_vform",
            "<where>",
            "<if test=\"formName != '' and formName != null \"> and form_name like concat('%',#{formName},'%')</if>",
            "<if test=\"formTable != '' and formTable != null \"> and form_table like concat('%',#{formTable},'%')</if>",
            "</where>",
            "</script>"
    })
    @ResultMap(value = "form")
    CscpCustomizeVform getCscpCustomizeVformsListOne(CscpCustomizeVform form);

    /**
     * 根据formId查询mainformId列表
     */

    @Select({
            "<script>" +
                    "select form_id from cscp_customize_vform where main_form_id in " +
                    "<foreach collection=\"mainFormIds\" item=\"mainFormId\" open=\"(\" separator=\",\" close=\")\">" +
                    "#{mainFormId}" +
                    "</foreach>" +
                    "</script>"})
    @Results(id="batchFormIds",value={
            @Result(column="form_id", jdbcType=JdbcType.BIGINT)
    })
    List<Long> selectFormIdsByMainFormIdList(@Param("mainFormIds") List<Long> mainFormIds);


    @Select({
            "<script>",
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            "from cscp_customize_vform where main_form_id in " ,
            "<foreach collection=\"mainFormIds\" item=\"mainFormId\" open=\"(\" separator=\",\" close=\")\">" ,
            "#{mainFormId} ",
            "</foreach>" ,
            "ORDER BY sort_num",
            "</script>"
    })
    @Results(id="forms",value={@Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_url", property="formUrl", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)})
    List<CscpCustomizeVform> getCscpCustomizeVformsByMainFormIds(@Param("mainFormIds") List<Long> mainFormIds);


    @Select({
            "<script>",
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            "from cscp_customize_vform where form_id in " ,
            "<foreach collection=\"formIds\" item=\"formId\" open=\"(\" separator=\",\" close=\")\">" ,
            "#{formId}" ,
            "</foreach>" ,
            "</script>"
    })
    @Results({
            @Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_url", property="formUrl", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)
    })
    List<CscpCustomizeVform> selectFormInfoByIds(@Param("formIds")Collection<Long> formIds);


    @Select({
            "<script>",
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "sub_form_fk,",
            "form_url,",
            "table_desc",
            " from cscp_customize_vform WHERE form_id =(SELECT main_form_id from cscp_customize_vform where  form_id = #{formId})",
            "</script>"
    })
    @Results({
            @Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_url", property="formUrl", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)
    })
    CscpCustomizeVform getMainCscpCustomizeVform(Long formId);


    @Select({
            "select",
            "form_id,",
            "form_name,",
            "form_database,",
            "form_table,",
            "form_json,",
            "form_option,",
            "created_by,",
            "created_time,",
            "update_by,",
            "update_time,",
            "tenant_id,",
            "del_flag,",
            "status,",
            "form_type,",
            "main_form_id,",
            "sort_num,",
            "form_url,",
            "sub_form_fk,",
            "table_desc",
            "from cscp_customize_vform",
            "where form_type = #{formType,jdbcType=BIGINT}"
    })
    @Results({@Result(column="form_id", property="formId", jdbcType=JdbcType.BIGINT,id=true ),
            @Result(column="form_name", property="formName", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_database", property="formDatabase", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_table", property="formTable", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_json", property="formJson", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_option", property="formOption", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_by", property="createdBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="created_time", property="createdTime", jdbcType=JdbcType.DATE),
            @Result(column="update_by", property="updateBy", jdbcType=JdbcType.VARCHAR),
            @Result(column="update_time", property="updateTime", jdbcType=JdbcType.DATE),
            @Result(column="tenant_id", property="tenantId", jdbcType=JdbcType.BIGINT),
            @Result(column="del_flag", property="delFlag", jdbcType=JdbcType.VARCHAR),
            @Result(column="status", property="status", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_type", property="formType", jdbcType=JdbcType.VARCHAR),
            @Result(column="main_form_id", property="mainFormId", jdbcType=JdbcType.BIGINT),
            @Result(column="sort_num", property="sortNum", jdbcType=JdbcType.INTEGER),
            @Result(column="sub_form_fk", property="subFormFk", jdbcType=JdbcType.VARCHAR),
            @Result(column="form_url", property="formUrl", jdbcType=JdbcType.VARCHAR),
            @Result(column="table_desc", property="tableDesc", jdbcType=JdbcType.VARCHAR)
    })
    List<CscpCustomizeVform> selectByFormType(@Param("formType")String formType);

    @Update({
        "update cscp_customize_vform",
        "set ",
        "del_flag = '1'",
        "where form_id = #{formId,jdbcType=BIGINT}"
    })
    void updateDelFlagByFormId(Long formId);
}





